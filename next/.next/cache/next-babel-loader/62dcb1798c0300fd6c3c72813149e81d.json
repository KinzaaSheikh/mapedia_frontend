{"ast":null,"code":"import 'cross-fetch/polyfill';\nimport ApolloClient, { InMemoryCache } from 'apollo-boost';\nimport Cookies from 'js-cookie';\nconst cache = new InMemoryCache();\nexport default new ApolloClient({\n  uri: 'http://localhost:8000/graphql',\n  cache,\n  request: operation => {\n    const jwt = Cookies.get('jwt_token');\n    if (!jwt) return;\n    operation.setContext({\n      headers: {\n        authorization: jwt\n      }\n    });\n  }\n});\ncache.writeData({\n  data: {\n    isLoggedIn: !!Cookies.get('jwt_token'),\n    cartItems: []\n  }\n});","map":{"version":3,"sources":["/Users/olivier.ramier/work/src/apollo/frontend/next/src/graphql/client.ts"],"names":["ApolloClient","InMemoryCache","Cookies","cache","uri","request","operation","jwt","get","setContext","headers","authorization","writeData","data","isLoggedIn","cartItems"],"mappings":"AAAA,OAAO,sBAAP;AACA,OAAOA,YAAP,IAAuBC,aAAvB,QAA4C,cAA5C;AACA,OAAOC,OAAP,MAAoB,WAApB;AAEA,MAAMC,KAAK,GAAG,IAAIF,aAAJ,EAAd;AAEA,eAAe,IAAID,YAAJ,CAAiB;AAC9BI,EAAAA,GAAG,EAAE,+BADyB;AAE9BD,EAAAA,KAF8B;AAG9BE,EAAAA,OAAO,EAAEC,SAAS,IAAI;AACpB,UAAMC,GAAG,GAAGL,OAAO,CAACM,GAAR,CAAY,WAAZ,CAAZ;AACA,QAAI,CAACD,GAAL,EAAU;AACVD,IAAAA,SAAS,CAACG,UAAV,CAAqB;AACnBC,MAAAA,OAAO,EAAE;AACPC,QAAAA,aAAa,EAAEJ;AADR;AADU,KAArB;AAKD;AAX6B,CAAjB,CAAf;AAcAJ,KAAK,CAACS,SAAN,CAAgB;AACdC,EAAAA,IAAI,EAAE;AACJC,IAAAA,UAAU,EAAE,CAAC,CAACZ,OAAO,CAACM,GAAR,CAAY,WAAZ,CADV;AAEJO,IAAAA,SAAS,EAAE;AAFP;AADQ,CAAhB","sourcesContent":["import 'cross-fetch/polyfill';\nimport ApolloClient, { InMemoryCache } from 'apollo-boost';\nimport Cookies from 'js-cookie';\n\nconst cache = new InMemoryCache();\n\nexport default new ApolloClient({\n  uri: 'http://localhost:8000/graphql',\n  cache,\n  request: operation => {\n    const jwt = Cookies.get('jwt_token');\n    if (!jwt) return;\n    operation.setContext({\n      headers: {\n        authorization: jwt,\n      },\n    });\n  },\n});\n\ncache.writeData({\n  data: {\n    isLoggedIn: !!Cookies.get('jwt_token'),\n    cartItems: [],\n  },\n});\n"]},"metadata":{},"sourceType":"module"}