fragment CurrentUserData on CurrentUser {
  _id
  email
  key
  role
}
query currentUser {
  currentUser {
    ...CurrentUserData
    # use fragmets, to sync with the return value of login
  }
}

mutation login($email: String!, $password: String!) {
  login(email: $email, password: $password) {
    jwt
    currentUser {
      ...CurrentUserData
    }
  }
}

mutation register($payload: RegisterPayload!) {
  register(payload: $payload) {
    ...CurrentUserData
  }
}
